(()=>{var de=190,le=280,oe=100,ne=155,he=35,se=90,me=155,U=0,pe=300,ue=390,ae=1.8,$e=2,y=1.15,X=0,O=0,Z=0,S=0,L=0,T=0,V=0,W=0,E=0,C,f,A,_,n,r,x=0,ve=0,v=null,j=!1,N=!1,G=!1,H=!1,re="STYLVOL";$(function(){$("#add_to_cart_wrapper").hide(),$(".note, .renders, .meta-block, .meta-grid-shape, .meta-grid-feel, .meta-grid-pattern, .meta-grid-colour, .meta-grid-edging, .meta-grid-size, .meta-grid-antislip, .invoice-buttons").addClass("hide-this"),$(".html-anti-slip, .html-buy-button, .shopify-buy__btn").addClass("disabled"),$("#anti-slip").attr("disabled",!0),setTimeout(()=>{$(".html-buy-button").removeClass("disabled"),$(".shopify-buy__btn").addClass("disabled")},2e3),$("#carpet_width").val(200),$("#carpet_length").val(300),$("#carpet_diameter").val(200);var q=$("#discount-code"),P=$(".discount-grid"),g=$(".discount-success");function R(){var h=q.val().toUpperCase(),c=h===re;P.toggle(!c),g.toggle(c),q.attr("data-discount",c?"true":"false"),c||console.log("Discount code is not valid!")}$("#apply-discount").click(R),$("input").change(function(){console.clear(),($("#rectangle").is(":checked")||$("#round").is(":checked"))&&($(".discount-grid").css("display","grid"),$(".discount-success").css("display","none"),$("#discount-code").attr("data-discount","false"));var h=$(":input[data-feel^='curvy']").is(":checked");$("#discount-box").css("display",h?"block":"none"),$("#discount-code").attr("data-discount",h&&$("#discount-code").val()===re?"true":"false"),$(".renders img").addClass("render hide-this"),j===!1&&$(":input[data-feel='soft']").is(":checked")&&($(":input[data-soft]").first().prop("checked",!0),$(":input[data-soft]").siblings().removeClass("w--redirected-checked"),$(":input[data-soft]").first().siblings().addClass("w--redirected-checked"),j=!0),N===!1&&$(":input[data-feel='ultra-soft']").is(":checked")&&($(":input[data-ultra-soft]").first().prop("checked",!0),$(":input[data-ultra-soft]").siblings().removeClass("w--redirected-checked"),$(":input[data-ultra-soft]").first().siblings().addClass("w--redirected-checked"),N=!0),G===!1&&$(":input[data-feel='textured']").is(":checked")&&($(":input[data-textured]").first().prop("checked",!0),$(":input[data-textured]").siblings().removeClass("w--redirected-checked"),$(":input[data-textured]").first().siblings().addClass("w--redirected-checked"),G=!0),H===!1&&$(":input[data-feel='pattern']").is(":checked")&&($(":input[data-pattern]").first().prop("checked",!0),$(":input[data-pattern]").siblings().removeClass("w--redirected-checked"),$(":input[data-pattern]").first().siblings().addClass("w--redirected-checked"),$(":input[data-pattern-colour]").first().prop("checked",!0),$(":input[data-pattern-colour]").siblings().removeClass("w--redirected-checked"),$(":input[data-pattern-colour]").first().siblings().addClass("w--redirected-checked"),H=!0),$("#soft").is(":checked")?(N=!1,G=!1,H=!1):$("#ultra-soft").is(":checked")?(j=!1,G=!1,H=!1):$("#textured").is(":checked")?(j=!1,N=!1,H=!1):$("#pattern").is(":checked")&&(j=!1,N=!1,G=!1),V=document.getElementById("carpet_width").value,W=document.getElementById("carpet_length").value,E=document.getElementById("carpet_diameter").value;function c(u,t,k,o){var te=u.charAt(0).toUpperCase()+u.slice(1)+" must be between "+k+"cm and "+o+"cm";return t>o?($("#carpet_"+u).val(o),alert(te),o):t<k?($("#carpet_"+u).val(k),alert(te),k):t}V=c("width",V,80,400),W=c("length",W,100,1e3),E=c("diameter",E,100,400),$("#meta-width").html(V+" cm"),$("#meta-length").html(W+" cm"),$("#meta-diameter").html("\u2300 "+E+" cm"),width_m=V/100,length_m=W/100;var s=Math.min(width_m,length_m),i=Math.max(width_m,length_m);if(width_m=s,length_m=i,i<=2&&s<=2||i<=4&&s>2?(width_m=i,length_m=s):(s<=2||i>4||i>=3.5&&i<=4)&&(width_m=s,length_m=i),console.log("Short side: "+s+"m, Long side: "+i+"m"),console.log("Width: "+width_m+"m, Length: "+length_m+"m"),$("#Chevron").is(":checked")||$("#Cubed").is(":checked")||$("#Mesh").is(":checked")||$("#Relic").is(":checked")||$("#Scales").is(":checked")||$("#Swirl").is(":checked")||$("#Tulle").is(":checked")?$(".pattern-colours, .patter-colour .colour").css("display","block"):$(".pattern-colours, .patter-colour .colour").css("display","none"),console.log("SHORT - ",s),console.log("LONG - ",i),console.log("Pattern - ",v),$("#pattern").is(":checked")&&(width_m=s,length_m=i,console.log("This is Pattern")),width_m<=2)var d=2;else var d=4;w=length_m+.2,console.log("Required Width: "+d),console.log("Required Length: "+w);var m=E/100,ee=E/100+.2;console.log("Diameter: "+m),console.log("Cut Diameter: "+m+" width + "+ee+" length"),X=width_m*w;var b=d*w;if(console.log("Area: "+X),console.log("Required Area: "+b),$("#rectangle").is(":checked")?($(".feel").show(),$(".radio-button-field.trim").show(),$(".trim").show(),$(".trim-swatches").show()):$("#round").is(":checked")?($(".feel").show(),$(".radio-button-field.trim").hide(),$(".trim-swatches").show()):$("#curvy").is(":checked")&&$(".radio-button-field.trim").show(),$('input[type="radio"][data-colour]:checked').length>0?$(".trim-colours").show():$(".trim-colours").hide(),$('input[type="radio"][data-trim]:checked').length>0?$(".size").show():$(".size").hide(),$("#soft").is(":checked")){$(".soft-colours").show(),$(".ultra-soft-colours").hide(),$(".textured-colours").hide(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var M="Soft";S=de,console.log("Carpet: Soft"),$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(M)}else if($("#ultra-soft").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").show(),$(".textured-colours").hide(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var M="Ultra Soft";S=le,console.log("Carpet: Ultra Soft"),$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(M)}else if($("#textured").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").hide(),$(".textured-colours").show(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var M="Textured";S=oe,console.log("Carpet: Textured"),$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(M)}else if($("#pattern").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").hide(),$(".textured-colours").hide(),$(".choose-pattern").show(),$(".pattern-colours").show();var M="Pattern";S=ne,console.log("Carpet: Patterned"),$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(M)}if($("#Chevron").is(":checked")&&$("#pattern").is(":checked")?(v="Chevron",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Cubed").is(":checked")&&$("#pattern").is(":checked")?(v="Cubed",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Mesh").is(":checked")&&$("#pattern").is(":checked")?(v="Mesh",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Relic").is(":checked")&&$("#pattern").is(":checked")?(v="Relic",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Scales").is(":checked")&&$("#pattern").is(":checked")?(v="Scales",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Swirl").is(":checked")&&$("#pattern").is(":checked")?(v="Swirl",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Tulle").is(":checked")&&$("#pattern").is(":checked")?(v="Tulle",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#curvy").is(":checked")&&$(".meta-grid-pattern").addClass("hide-this"),$("#pattern").is(":checked")||($("#meta-pattern").html(""),$(".meta-grid-pattern").addClass("hide-this"),$(":input[data-pattern]").prop("checked",!1)),console.log("Carpet Price / m2: "+S),$(":input[data-trim='overlocking']").is(":checked"))Z=he,f="Overlocking",$("#meta-edging").html(f);else if($(":input[data-trim='trim']").is(":checked")){Z=me;var Q=["chai","veld","moss","shade","sable","slate","mallow","blaze","frost","reef","jet","coco"];$.each(Q,function(u,t){if($(":input[data-trim-colour='"+t+"']").is(":checked"))return f=t.charAt(0).toUpperCase()+t.slice(1),$("."+t).removeClass("hide-this"),$("#meta-edging").html(f),!1})}if($("#round").is(":checked")){var B="Round";U=ue,width_m=m,length_m=m,s=m,console.log("Round Width: "+width_m),console.log("Round Length: "+length_m),width_m<=2?d=2:d=4;var w=length_m+.2;console.log("Round Required Width (round): "+d),console.log("Round Required Length (round): "+w),O=2*Math.PI*(m/2),L=O*se,console.log("price_perimeter: "+L),X=Math.PI*(m/2)*(m/2),b=d*w,console.log("Round Area: "+X),console.log("Round Required Area: "+b),$(":input[data-trim='trim']").prop("checked",!1),$(":input[data-trim='trim']").siblings().removeClass("w--redirected-checked"),$(":input[data-trim='overlocking']").prop("checked",!0),$(":input[data-trim='overlocking']").siblings().addClass("w--redirected-checked"),f="Overlocking",$("#meta-edging").html(f),console.log("Shape: Round"),console.log("Trim Price: "+se),$("#meta-shape").html(B),$("#meta-size").css("display","none"),$("#meta-diameter").css("display","block"),$(".trim-swatches").addClass("hide-this"),$(".width-wrapper").addClass("hide-this"),$(".length-wrapper").addClass("hide-this"),$(".diameter-wrapper").removeClass("hide-this");var z=b*S,I=width_m*w*S*ae,D=z+I;console.log("Carpet Cost: "+D)}else if($("#rectangle").is(":checked")){var B="Rectangle";U=pe,O=(width_m+length_m)*2,L=O*Z,console.log("Shape: Rectangle"),console.log("Trim Price: "+Z),$("#meta-shape").html(B),$("#meta-size").css("display","flex"),$("#meta-diameter").css("display","none"),$(".trim-swatches").removeClass("hide-this"),$(".width-wrapper").removeClass("hide-this"),$(".length-wrapper").removeClass("hide-this"),$(".diameter-wrapper").addClass("hide-this");var z=b*S,I;$("#pattern").is(":checked")?I=width_m*w*S*$e:I=width_m*w*S*ae;var D=z+I;console.log("Carpet Cost: "+D)}console.log("Perimeter m: "+O),console.log("Perimeter Price: "+L),console.log("Handeling Fee: "+U),$("#round").is(":checked")?($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this"),$(".minimat-renders").addClass("hide-this"),$("#soft").is(":checked")||$("#ultra-soft").is(":checked")?($(".s-renders-round").removeClass("hide-this"),x=0,l()):$("#textured").is(":checked")?($(".textured-colours .colour").css("display","block"),$(".t-renders-round").removeClass("hide-this"),x=0,l()):$("#extra_textured").is(":checked")?($(".et-renders-round").removeClass("hide-this"),x=0,l()):$("#pattern").is(":checked")&&($(".p-renders-round").removeClass("hide-this"),x=1,l())):$("#rectangle").is(":checked")?($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this"),$(".minimat-renders").addClass("hide-this"),$("#soft").is(":checked")||$("#ultra-soft").is(":checked")?($(".s-renders").removeClass("hide-this"),x=0,l()):$("#textured").is(":checked")?($(".t-renders").removeClass("hide-this"),x=0,l()):$("#extra_textured").is(":checked")?($(".et-renders").removeClass("hide-this"),x=0,l()):$("#pattern").is(":checked")&&($(".p-renders").removeClass("hide-this"),x=1,l())):$("#curvy").is(":checked")&&($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this")),($("#round").is(":checked")||$("#rectangle").is(":checked")||$("#curvy").is(":checked"))&&($(".preview-message").addClass("hide-this"),$(".meta-block").removeClass("hide-this"),$(".meta-grid-shape").removeClass("hide-this")),$(":input[data-colour]").is(":checked")&&($(".renders").removeClass("hide-this"),$(".meta-grid-colour").removeClass("hide-this"),$(".note").removeClass("hide-this")),$("#rectangle").is(":checked")&&!$(":input[data-colour]").is(":checked")?$(".p-renders").addClass("hide-this"):$("#round").is(":checked")&&!$(":input[data-colour]").is(":checked")&&$(".p-renders-round").addClass("hide-this"),$(":input[data-trim]").is(":checked")&&($(".meta-grid-edging").removeClass("hide-this"),$(".meta-grid-size").removeClass("hide-this")),$("#round").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")&&$(".size").css({display:"grid",opacity:"1"});function Y(u,t,k){$(":input["+u+"]").each(function(){var o=$(this).data(u.replace("data-",""));$(this).is(":checked")&&($("."+t+o).removeClass("hide-this"),C=o.charAt(0).toUpperCase()+o.slice(1))})}function K(){var u={charcoal:"#222",silver:"#565656",mustard:"#b4a240",bronze:"#b48645",metal:"#92a19b",earthy:"#b5a184",dove:"#ccc3b5"};$(":input[data-colour]").each(function(){var t=$(this).data("colour");if($(this).is(":checked")){C=t.charAt(0).toUpperCase()+t.slice(1);var k=u[t];k&&$(".p-colour-overlay").css("background-color",k),$(".s-"+t+", .t-"+t+", .et-"+t).removeClass("hide-this")}})}if(Y("data-pattern","p-",""),K(),console.clear(),console.log("Colour: ",C),$("#handlePatternColours").html(C),s<=1.2?T=326.09:s<=1.6?T=434.78:s<=2?T=543.48:s<=3?T=652.17:T=817.39,console.log("Shipping: "+T),_=width_m*length_m,A=70/1.15,n=_*A,$("#anti-slip").is(":checked")){var e=D+L+n+U+T;$(".meta-grid-antislip").removeClass("hide-this")}else{var e=D+L+U+T;$(".meta-grid-antislip").addClass("hide-this")}r=n*y,r=Math.ceil(r),$(".anti-slip-price").text("R "+r);var p=e*y,a=Math.ceil(p);if(console.log("Total + VAT: "+p),console.log("Grand Total Rounded: "+a),$("#curvy").is(":checked")?($(".form-curvy").css("display","block"),$(".form-main").css("display","none"),$(".renders-main").css("display","none"),$(".renders-curvy").css("display","block"),$("#curvy-sizes").css("display","flex")):($(".form-curvy").css("display","none"),$(".form-main").css("display","block"),$(".renders-main").css("display","block"),$(".renders-curvy").css("display","none")),$("#meta-colour").html(C),$("#curvy").is(":checked")){if($(".anti-slip-price").text(""),T=1,console.log("Shipping: "+T),$(".meta-grid-feel").removeClass("hide-this"),$("#meta-shape").html("Curvy"),$("#meta-feel").html("Curvy Soft"),$("#meta-colour").html(""),$("#meta-edging").html(""),$("#meta-size").css("display","flex"),$("#meta-diameter").css("display","none"),$("#meta-length").html(""),$("#meta-width").html(""),$(":input[data-feel='curvy_small']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Small"),$("#meta-size").css("display","flex"),$("#meta-width").html("120 cm"),$("#meta-length").html("160 cm"),a=2300,p=2300,e=2300;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R 2300"),_=1.2*1.6,n=_*A,r=n*y,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){a=Math.ceil(e+n*y),p=a,e=a,$("#total_amount").text("R "+e);let o=(e/4).toFixed(2);$(".float-price").text("R "+o)}}else if($(":input[data-feel='curvy_medium']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Medium"),$("#meta-size").css("display","flex"),$("#meta-width").html("200 cm"),$("#meta-length").html("300 cm"),a=4800,p=4800,e=4800;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=2*3,n=_*A,r=n*y,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){a=Math.ceil(e+n*y),p=a,e=a,$("#total_amount").text("R "+e);let o=(e/4).toFixed(2);$(".float-price").text("R "+o)}}else if($(":input[data-feel='curvy_large']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Large"),$("#meta-size").css("display","flex"),$("#meta-width").html("300 cm"),$("#meta-length").html("350 cm"),a=7900,p=7900,e=7900;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=3*3.5,n=_*A,r=n*y,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){a=Math.ceil(e+n*y),p=a,e=a,$("#total_amount").text("R "+e);let o=(e/4).toFixed(2);$(".float-price").text("R "+o)}}else if($(":input[data-feel='curvy_mini_mat_small']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Mini Mat Small "),$("#meta-size").css("display","flex"),$("#meta-width").html("50 cm"),$("#meta-length").html("80 cm"),a=700,p=700,e=700;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=3*3.5,n=_*A,r=n*y,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){a=Math.ceil(e+n*y),p=a,e=a,$("#total_amount").text("R "+e);let o=(e/4).toFixed(2);$(".float-price").text("R "+o)}}else if($(":input[data-feel='curvy_mini_mat_large']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Mini Mat Large "),$("#meta-size").css("display","flex"),$("#meta-width").html("60 cm"),$("#meta-length").html("100 cm"),a=900,p=900,e=900;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=3*3.5,n=_*A,r=n*y,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){a=Math.ceil(e+n*y),p=a,e=a,$("#total_amount").text("R "+e);let o=(e/4).toFixed(2);$(".float-price").text("R "+o)}}$(":input[data-feel-curvy]").is(":checked")?($("#curvy-colours").css("display","grid"),$(":input[curvy-colour]").is(":checked")?$("#curvy-trims").css("display","grid"):$("#curvy-trims").css("display","none")):($("#curvy-colours").css("display","none"),$("#curvy-trims").css("display","none")),$(":input[data-colour='chartreuse']").is(":checked")&&(C="Chartreuse",$(".close-chartreuse").removeClass("hide-this")),$(":input[data-colour='blush']").is(":checked")&&(C="Blush",$(".close-blush").removeClass("hide-this")),$(":input[data-colour='peach']").is(":checked")&&(C="Peach",$(".close-peach").removeClass("hide-this")),$(":input[data-colour='brick']").is(":checked")&&(C="Brick",$(".close-brick").removeClass("hide-this")),$(":input[data-colour='moss']").is(":checked")&&(C="Moss",$(".close-moss").removeClass("hide-this")),$(":input[data-colour='stormy-sea']").is(":checked")&&(C="Stormy Sea",$(".close-stormy-sea").removeClass("hide-this")),$(":input[data-colour='navy']").is(":checked")&&(C="Navy",$(".close-navy").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(".minimat-renders").removeClass("hide-this"),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='chartreuse']").is(":checked")&&($(".minimat-overlay").css("background-color","#8d7b01"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='blush']").is(":checked")&&($(".minimat-overlay").css("background-color","#b0999b"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='peach']").is(":checked")&&($(".minimat-overlay").css("background-color","#8b5e4d"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='brick']").is(":checked")&&($(".minimat-overlay").css("background-color","#5f362e"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='moss']").is(":checked")&&($(".minimat-overlay").css("background-color","#736d4a"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='stormy-sea']").is(":checked")&&($(".minimat-overlay").css("background-color","#4c5d5e"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='navy']").is(":checked")&&($(".minimat-overlay").css("background-color","#313740"),$(".minimat-grey-image").removeClass("hide-this")),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cs-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cs-blush").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cs-peach").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cs-brick").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cs-moss").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cs-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cs-navy").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cm-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cm-blush").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cm-peach").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cm-brick").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cm-moss").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cm-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cm-navy").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cl-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cl-blush").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cl-peach").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cl-brick").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cl-moss").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cl-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cl-navy").removeClass("hide-this"),$(":input[data-trim='curvy']").is(":checked")&&$(".meta-grid-edging").removeClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&(f="Chartreuse Edge",$(".close-chartreuse-trim").removeClass("hide-this")),$(":input[data-trim-colour='blush']").is(":checked")&&(f="Blush Edge",$(".close-blush-trim").removeClass("hide-this")),$(":input[data-trim-colour='peach']").is(":checked")&&(f="Peach Edge",$(".close-peach-trim").removeClass("hide-this")),$(":input[data-trim-colour='brick']").is(":checked")&&(f="Brick Edge",$(".close-brick-trim").removeClass("hide-this")),$(":input[data-trim-colour='moss']").is(":checked")&&(f="Moss Edge",$(".close-moss-trim").removeClass("hide-this")),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&(f="Stormy Sea Edge",$(".close-stormy-sea-trim").removeClass("hide-this")),$(":input[data-trim-colour='navy']").is(":checked")&&(f="Navy Edge",$(".close-navy-trim").removeClass("hide-this")),$(":input[data-feel='curvy_large']").is(":checked")?($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".large-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".large-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".large-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".large-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".large-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".large-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".large-navy").removeClass("hide-this")):$(":input[data-feel='curvy_medium']").is(":checked")?($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".medium-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".medium-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".medium-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".medium-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".medium-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".medium-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".medium-navy").removeClass("hide-this")):$(":input[data-feel='curvy_small']").is(":checked")&&($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".small-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".small-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".small-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".small-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".small-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".small-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".small-navy").removeClass("hide-this")),$(":input[data-minimat]").is(":checked")?$(":input[data-trim-colour='chartreuse']").is(":checked")?$(".minimat-chartreuse").removeClass("hide-this"):$(":input[data-trim-colour='blush']").is(":checked")?$(".minimat-blush").removeClass("hide-this"):$(":input[data-trim-colour='peach']").is(":checked")?$(".minimat-peach").removeClass("hide-this"):$(":input[data-trim-colour='brick']").is(":checked")?$(".minimat-brick").removeClass("hide-this"):$(":input[data-trim-colour='moss']").is(":checked")?$(".minimat-moss").removeClass("hide-this"):$(":input[data-trim-colour='stormy-sea']").is(":checked")?$(".minimat-stormy-sea").removeClass("hide-this"):$(":input[data-trim-colour='navy']").is(":checked")&&$(".minimat-navy").removeClass("hide-this"):$(".trim-minimat img").addClass("hide-this");var ie=$(":input[curvy-colour]:checked").data("curvy-colour");$("#meta-colour").html(ie),$("#meta-edging").html(f),console.log("Total: "+e),console.log("Total + VAT: "+p),console.log("Grand Total Rounded: "+a)}if($(":input[curvy-colour]").click(function(){$(".renders-curvy").removeClass("hide-this"),$(".renders-closeup").addClass("hide-this"),$(".note").html("&nbsp;")}),$(":input[data-trim='curvy']").click(function(){$(".renders-curvy").addClass("hide-this"),$(".renders-closeup").removeClass("hide-this"),$(".renders-closeup").css("display","block"),$(".note").html("Close up")}),$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")){$(".add-to-cart-replacement").addClass("hide"),$(".html-anti-slip").removeClass("disabled"),$("#anti-slip").removeAttr("disabled"),$(".html-buy-button, .shopify-buy__btn").removeClass("disabled"),$(".html-buy-button").removeClass("hide"),$(".invoice-buttons").removeClass("hide"),$("#total_amount").html("R "+a);let t=(a/4).toFixed(2);$(".float-price").text("R "+t)}$(":input[data-shape='rectangle'], :input[data-shape='round']").is(":checked")&&$(":input[data-feel]").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")||$(":input[data-shape]").is(":checked")&&$(":input[data-feel='pattern']").is(":checked")&&$(":input[data-pattern]").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")||$(":input[data-shape='curvy']").is(":checked")&&$(":input[data-feel-curvy]").is(":checked")&&$(":input[curvy-colour]").is(":checked")&&$(":input[data-trim='curvy']").is(":checked")?$("#add_to_cart_wrapper").show():$("#add_to_cart_wrapper").hide(),$("#curvy").is(":checked")?$(".discount-grid").show():$(".discount-grid").hide()}),$(".pdf-line-item").remove(),$(document).on("click",".item-remove",function(){$(this).parent().remove(),$(".pdf-line-item").length==0?$(".invoice, .get-invoice").addClass("hide"):F()});function F(){var h=0;$(".price-interger").each(function(){h+=parseInt($(this).text());var c=h*.15,s=Math.ceil(c);console.log("The Total - ",h),console.log("Data Type - ",typeof h),console.log("Vat Total Fixed - ",s),console.log("Data type - ",typeof s);var i="<span>R </span>"+h.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),d="<span>R </span>"+s.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");$("#pdf-sub-total").html(i),$("#pdf-vat-total").html(d),$("#pdf-total-due").html(i),$(".button-wrapper").removeClass("hide"),$(".get-invoice").removeClass("hide")})}$("#add-to-invoice-text, #add-to-invoice").off().click(function(){$(".invoice").removeClass("hide"),$(".get-invoice").removeClass("hide");var h=$("#meta-shape").text(),c=$("#meta-feel").text(),s=$("#meta-colour").text(),i=$("#meta-edging").text(),d=$("#meta-pattern").text();if(d!=null?d=" "+d:d="",$("#round").is(":checked"))var m=$("#meta-diameter").text();else var m=$("#meta-size").text();var ee=$("#total_amount").text(),b=ee.substring(2),M=b.replace(/\B(?=(\d{3})+(?!\d))/g,","),Q="Shape:&nbsp;"+h+" / Feel:&nbsp;"+c+d+" / Colour:&nbsp;"+s+" / Edging:&nbsp;"+i+" / Size:&nbsp;"+m,B="<div class='w-layout-grid pdf-line-item'><div class='item-detail'>"+Q+"</div><div class='item-price' data-price='"+b+"' >R&nbsp;"+M+"<span class='price-interger' style='display:none;'>"+b+"</span></div><div class='item-remove'><div class='remove-bar'></div><div class='remove-bar flip'></div></div></div>";$("#pdf-items").append(B);var w="<input type='hidden' id='"+b+"' name='Line Item' value='"+Q+" / Price: R&nbsp;"+b+"'>";$("#form-fields").append(w),F(),$("#download-invoice").click(function(){var z=$("#invoiceCompany").val(),I=$("#invoiceName").val(),D=$("#invoicePhone").val(),Y=$("#invoiceEmail").val(),K=$("#invoiceVat").val(),e=$("#invoiceAddress").val(),p=Math.round(new Date().getTime()/1e3);if($("#pdf-number").replaceWith("# "+p),$("#pdf-company").replaceWith(z),$("#pdf-contact").replaceWith(I),$("#pdf-phone").replaceWith(D),$("#pdf-email").replaceWith(Y),$("#pdf-vat").replaceWith(K),$("#pdf-address").replaceWith(e),z==""&&$(".pdf-company, #pdf-company").remove(),D==""&&$(".pdf-phone, #pdf-phone").remove(),K==""&&$(".pdf-vat, #pdf-vat").remove(),e==""&&$(".pdf-address, #pdf-address").remove(),I!=""&&Y!=""){var a=new jsPDF;a.addHTML($("#pdf-invoice").css({width:"29.7cm",height:"42cm"}),$("#pdf-invoice")[0],function(){a.save("yudu-pro-forma-invoice-"+p+".pdf");var ie=!0})}$("#pdf-invoice").css({width:"auto",height:"auto"})})});let l=()=>{x?$(".p-colour-overlay").css("opacity","1"):$(".p-colour-overlay").css("opacity","0")},J=()=>{ve?$(".minimat-overlay").css("opacity","1"):$(".minimat-overlay").css("opacity","0")}});$(document).ready(function(){$(".samples-detail.carpet").remove();var q,P,g,R,F,l,J,h=!0,c=[],s="Only 5 samples per order allowed!";i();function i(){P=$(".samples-detail-wrapper .samples-detail").length,$(".samples-tab .samples-tab-count").text(P),J=5-P,$(".samples-text.count .count-val").text(J),P>0?($(".remove-notice").addClass("hide"),$(".samples-tab").css("display","flex"),$(".samples-cta-wrapper").removeClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","auto")):(c=[],$(".remove-notice").removeClass("hide"),$(".samples-tab").css("display","none"),$(".samples-cta-wrapper").addClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","none"))}function d(){h==!0&&($(".samples-detail.trim").appendTo($(".samples-detail-wrapper")),$(".samples-detail.trim .add-trim-samples").css("display","none"),$(".samples-detail.trim").find(".carpet-type").text("Edging Pack"),h=!1),i(),P<5?jQuery.inArray(sampleID,c)>=0?alert(g+" "+R+" has already been added."):($(".samples-detail-wrapper").prepend(l),c.push(sampleID),console.log("sampleArray = "+c)):alert(s),i()}$("#sampleButton").click(function(){g=$(":input[data-feel]:checked").val(),console.log("theFeel = "+g),g=="Pattern"&&(thePattern=$(":input[data-pattern]:checked").val(),console.log("thePattern = "+thePattern),g=g+" / "+thePattern),R=$(":input[data-colour]:checked").val(),console.log("theColor = "+R),F=$(":input[data-colour]:checked").siblings().children().attr("src"),console.log("theSwatch = "+F),l="<div class='samples-detail carpet'><div class='samples-image-wrapper'><img src='"+F+"' class='samples-image' alt=''></div><div class='samples-name-wrapper'><div class='samples-name'><div class='carpet-type'>"+g+"</div><div class='carpet-colour'>"+R+"</div></div><div class='remove-samples'><div class='remove-icon'><div class='icon-bar'></div></div></div></div></div>",theFeelID=g.replace(/ /g,"").toLowerCase(),theColorID=R.replace(/ /g,"").toLowerCase(),sampleID=theFeelID+"-"+theColorID,console.log("Pre sampleID : "+sampleID),console.log("Pre sampleArray : "+c),d(),i(),$(".samples-tab").click(),$(".samples-tab").css("display","flex")}),$(".samples-detail.trim").on("click",".remove-samples",function(){$(this).css("display","none"),$(this).parent(".samples-detail.trim").find(".add-trim-samples").css("display","flex"),$(this).parent(".samples-detail.trim").prependTo($(".trim-garage")),$(this).parent(".samples-detail.trim").find(".carpet-type").text("Add Edging Pack"),i()}),$(".samples-detail.trim").on("click",".add-trim-samples",function(){i(),P<5?($(this).css("display","none"),$(this).parent(".samples-detail.trim").find(".remove-samples").css("display","flex"),$(this).parent(".samples-detail.trim").appendTo($(".samples-detail-wrapper")),$(this).parent(".samples-detail.trim").find(".carpet-type").text("Edging Pack"),i()):alert(s)}),$(".samples-detail-wrapper").on("click",".samples-detail.carpet .samples-name-wrapper .remove-samples",function(){console.clear(),console.log("Remove clicked"),removeFeel=$(this).parents(".samples-name-wrapper").find(".carpet-type").text(),console.log("removeFeel = "+removeFeel),removeColor=$(this).parents(".samples-name-wrapper").find(".carpet-colour").text(),console.log("removeColor = "+removeColor),removeFeelID=removeFeel.replace(/ /g,"").toLowerCase(),removeColorID=removeColor.replace(/ /g,"").toLowerCase(),removeID=removeFeelID+"-"+removeColorID,console.log("removeID = "+removeID),c=jQuery.grep(c,function(m){return m!=removeID}),console.log("Updated sampleArray = "+c),$(this).parents(".samples-detail-wrapper .samples-detail.carpet").fadeOut(200,function(){$(this).remove(),i()}),i()})});$("#checkoutButton").click(function(){$(this).text("Please wait..."),fe()});function fe(){setTimeout(function(){$(".samples-detail.carpet").remove(),$(".field-label").css("opacity","1"),$("#checkoutButton").text("Order for R95"),$(".remove-notice").removeClass("hide"),$(".samples-cart .samples-close").click(),$(".samples-tab").css("display","none"),$(".samples-cta-wrapper").addClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","none"),sampleArray=[]},7e3)}var ce=ShopifyBuy.buildClient({domain:"yudu2020.myshopify.com",storefrontAccessToken:"4a0e78fe19caee70a369f98925b4a317"}),ke=document.querySelector("#checkoutButton");ke.addEventListener("click",q=>{ce.checkout.create().then(async P=>{let g="https://yudu-server.herokuapp.com/yudu-sample-rug-api",R=document.querySelectorAll(".samples-detail-wrapper .samples-detail"),F="95";if(R){let l="";R.forEach(i=>{let d=i.children[1].children[0].children[0].innerHTML,m=i.children[1].children[0].children[1].innerHTML;l.length<1?l=d+" / "+m:l+=" / "+d+" / "+m});let h={method:"POST",body:JSON.stringify({variantString:l,price:F}),headers:{"Content-Type":"Application/JSON"}},s=[{variantId:(await fetch(g,h).then(i=>i.json())).id,quantity:1}];ce.checkout.addLineItems(P.id,s).then(i=>{window.open(i.webUrl)})}})});console.log("main.js");})();
//# sourceMappingURL=index.js.map
