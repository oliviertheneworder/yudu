(()=>{var de=190,le=280,oe=100,ne=155,he=35,me=90,pe=155,Y=0,ue=300,$e=390,ae=1.8,ve=2,k=1.15,se=0,K=0,Z=0,T=0,X=0,M=0,O=0,V=0,E=0,b,u,A,g,o,r,w=0,fe=0,v=null,q=!1,U=!1,W=!1,j=!1,re="STYLVOL";$(function(){$("#add_to_cart_wrapper").hide(),$(".note, .renders, .meta-block, .meta-grid-shape, .meta-grid-feel, .meta-grid-pattern, .meta-grid-colour, .meta-grid-edging, .meta-grid-size, .meta-grid-antislip, .invoice-buttons").addClass("hide-this"),$(".html-anti-slip, .html-buy-button, .shopify-buy__btn").addClass("disabled"),$("#anti-slip").attr("disabled",!0),setTimeout(()=>{$(".html-buy-button").removeClass("disabled"),$(".shopify-buy__btn").addClass("disabled")},2e3),$("#carpet_width").val(200),$("#carpet_length").val(300),$("#carpet_diameter").val(200);var H=$("#discount-code"),y=$(".discount-grid"),C=$(".discount-success");function x(){var h=H.val().toUpperCase(),c=h===re;y.toggle(!c),C.toggle(c),H.attr("data-discount",c?"true":"false")}$("#apply-discount").click(x),$("input").change(function(){($("#rectangle").is(":checked")||$("#round").is(":checked"))&&($(".discount-grid").css("display","grid"),$(".discount-success").css("display","none"),$("#discount-code").attr("data-discount","false"));var h=$(":input[data-feel^='curvy']").is(":checked");$("#discount-box").css("display",h?"block":"none"),$("#discount-code").attr("data-discount",h&&$("#discount-code").val()===re?"true":"false"),$(".renders img").addClass("render hide-this"),q===!1&&$(":input[data-feel='soft']").is(":checked")&&($(":input[data-soft]").first().prop("checked",!0),$(":input[data-soft]").siblings().removeClass("w--redirected-checked"),$(":input[data-soft]").first().siblings().addClass("w--redirected-checked"),q=!0),U===!1&&$(":input[data-feel='ultra-soft']").is(":checked")&&($(":input[data-ultra-soft]").first().prop("checked",!0),$(":input[data-ultra-soft]").siblings().removeClass("w--redirected-checked"),$(":input[data-ultra-soft]").first().siblings().addClass("w--redirected-checked"),U=!0),W===!1&&$(":input[data-feel='textured']").is(":checked")&&($(":input[data-textured]").first().prop("checked",!0),$(":input[data-textured]").siblings().removeClass("w--redirected-checked"),$(":input[data-textured]").first().siblings().addClass("w--redirected-checked"),W=!0),j===!1&&$(":input[data-feel='pattern']").is(":checked")&&($(":input[data-pattern]").first().prop("checked",!0),$(":input[data-pattern]").siblings().removeClass("w--redirected-checked"),$(":input[data-pattern]").first().siblings().addClass("w--redirected-checked"),$(":input[data-pattern-colour]").first().prop("checked",!0),$(":input[data-pattern-colour]").siblings().removeClass("w--redirected-checked"),$(":input[data-pattern-colour]").first().siblings().addClass("w--redirected-checked"),j=!0),$("#soft").is(":checked")?(U=!1,W=!1,j=!1):$("#ultra-soft").is(":checked")?(q=!1,W=!1,j=!1):$("#textured").is(":checked")?(q=!1,U=!1,j=!1):$("#pattern").is(":checked")&&(q=!1,U=!1,W=!1),O=document.getElementById("carpet_width").value,V=document.getElementById("carpet_length").value,E=document.getElementById("carpet_diameter").value;function c(n,i,f,l){var ie=n.charAt(0).toUpperCase()+n.slice(1)+" must be between "+f+"cm and "+l+"cm";return i>l?($("#carpet_"+n).val(l),alert(ie),l):i<f?($("#carpet_"+n).val(f),alert(ie),f):i}O=c("width",O,80,400),V=c("length",V,100,1e3),E=c("diameter",E,100,400),$("#meta-width").html(O+" cm"),$("#meta-length").html(V+" cm"),$("#meta-diameter").html("\u2300 "+E+" cm"),width_m=O/100,length_m=V/100;var a=Math.min(width_m,length_m),t=Math.max(width_m,length_m);if(a<=2&&t<=2||a>2&&a<=4&&t>2&&t<=4||t>=3.5&&t<=4?(width_m=t,length_m=a):(width_m=a,length_m=t),$("#Chevron").is(":checked")||$("#Cubed").is(":checked")||$("#Mesh").is(":checked")||$("#Relic").is(":checked")||$("#Scales").is(":checked")||$("#Swirl").is(":checked")||$("#Tulle").is(":checked")?$(".pattern-colours, .patter-colour .colour").css("display","block"):$(".pattern-colours, .patter-colour .colour").css("display","none"),$("#pattern").is(":checked")&&(width_m=a,length_m=t),width_m<=2)var m=2;else var m=4;S=length_m+.2;var _=E/100,ee=E/100+.2;se=width_m*S;var P=m*S;if($("#rectangle").is(":checked")?($(".feel").show(),$(".radio-button-field.trim").show(),$(".trim").show(),$(".trim-swatches").show()):$("#round").is(":checked")?($(".feel").show(),$(".radio-button-field.trim").hide(),$(".trim-swatches").show()):$("#curvy").is(":checked")&&$(".radio-button-field.trim").show(),$('input[type="radio"][data-colour]:checked').length>0?$(".trim-colours").show():$(".trim-colours").hide(),$('input[type="radio"][data-trim]:checked').length>0?$(".size").show():$(".size").hide(),$("#soft").is(":checked")){$(".soft-colours").show(),$(".ultra-soft-colours").hide(),$(".textured-colours").hide(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var R="Soft";T=de,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(R)}else if($("#ultra-soft").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").show(),$(".textured-colours").hide(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var R="Ultra Soft";T=le,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(R)}else if($("#textured").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").hide(),$(".textured-colours").show(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var R="Textured";T=oe,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(R)}else if($("#pattern").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").hide(),$(".textured-colours").hide(),$(".choose-pattern").show(),$(".pattern-colours").show();var R="Pattern";T=ne,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(R)}if($("#Chevron").is(":checked")&&$("#pattern").is(":checked")?(v="Chevron",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Cubed").is(":checked")&&$("#pattern").is(":checked")?(v="Cubed",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Mesh").is(":checked")&&$("#pattern").is(":checked")?(v="Mesh",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Relic").is(":checked")&&$("#pattern").is(":checked")?(v="Relic",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Scales").is(":checked")&&$("#pattern").is(":checked")?(v="Scales",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Swirl").is(":checked")&&$("#pattern").is(":checked")?(v="Swirl",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#Tulle").is(":checked")&&$("#pattern").is(":checked")?(v="Tulle",$("#meta-pattern").html(v),$(".meta-grid-pattern").removeClass("hide-this")):$("#curvy").is(":checked")&&$(".meta-grid-pattern").addClass("hide-this"),$("#pattern").is(":checked")||($("#meta-pattern").html(""),$(".meta-grid-pattern").addClass("hide-this"),$(":input[data-pattern]").prop("checked",!1)),$(":input[data-trim='overlocking']").is(":checked"))Z=he,u="Overlocking",$("#meta-edging").html(u);else if($(":input[data-trim='trim']").is(":checked")){Z=pe;var G=["chai","veld","moss","shade","sable","slate","mallow","blaze","frost","reef","jet","coco"];$.each(G,function(n,i){if($(":input[data-trim-colour='"+i+"']").is(":checked"))return u=i.charAt(0).toUpperCase()+i.slice(1),$("."+i).removeClass("hide-this"),$("#meta-edging").html(u),!1})}if($("#round").is(":checked")){var B="Round";Y=$e,width_m=_,length_m=_,a=_,width_m<=2?m=2:m=4;var S=length_m+.2;K=2*Math.PI*(_/2),X=K*me,se=Math.PI*(_/2)*(_/2),P=m*S,$(":input[data-trim='trim']").prop("checked",!1),$(":input[data-trim='trim']").siblings().removeClass("w--redirected-checked"),$(":input[data-trim='overlocking']").prop("checked",!0),$(":input[data-trim='overlocking']").siblings().addClass("w--redirected-checked"),u="Overlocking",$("#meta-edging").html(u),$("#meta-shape").html(B),$("#meta-size").css("display","none"),$("#meta-diameter").css("display","block"),$(".trim-swatches").addClass("hide-this"),$(".width-wrapper").addClass("hide-this"),$(".length-wrapper").addClass("hide-this"),$(".diameter-wrapper").removeClass("hide-this");var D=P*T,F=width_m*S*T*ae,z=D+F}else if($("#rectangle").is(":checked")){var B="Rectangle";Y=ue,K=(width_m+length_m)*2,X=K*Z,$("#meta-shape").html(B),$("#meta-size").css("display","flex"),$("#meta-diameter").css("display","none"),$(".trim-swatches").removeClass("hide-this"),$(".width-wrapper").removeClass("hide-this"),$(".length-wrapper").removeClass("hide-this"),$(".diameter-wrapper").addClass("hide-this");var D=P*T,F;$("#pattern").is(":checked")?F=width_m*S*T*ve:F=width_m*S*T*ae;var z=D+F}$("#round").is(":checked")?($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this"),$(".minimat-renders").addClass("hide-this"),$("#soft").is(":checked")||$("#ultra-soft").is(":checked")?($(".s-renders-round").removeClass("hide-this"),w=0,d()):$("#textured").is(":checked")?($(".textured-colours .colour").css("display","block"),$(".t-renders-round").removeClass("hide-this"),w=0,d()):$("#extra_textured").is(":checked")?($(".et-renders-round").removeClass("hide-this"),w=0,d()):$("#pattern").is(":checked")&&($(".p-renders-round").removeClass("hide-this"),w=1,d())):$("#rectangle").is(":checked")?($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this"),$(".minimat-renders").addClass("hide-this"),$("#soft").is(":checked")||$("#ultra-soft").is(":checked")?($(".s-renders").removeClass("hide-this"),w=0,d()):$("#textured").is(":checked")?($(".t-renders").removeClass("hide-this"),w=0,d()):$("#extra_textured").is(":checked")?($(".et-renders").removeClass("hide-this"),w=0,d()):$("#pattern").is(":checked")&&($(".p-renders").removeClass("hide-this"),w=1,d())):$("#curvy").is(":checked")&&($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this")),($("#round").is(":checked")||$("#rectangle").is(":checked")||$("#curvy").is(":checked"))&&($(".preview-message").addClass("hide-this"),$(".meta-block").removeClass("hide-this"),$(".meta-grid-shape").removeClass("hide-this")),$(":input[data-colour]").is(":checked")&&($(".renders").removeClass("hide-this"),$(".meta-grid-colour").removeClass("hide-this"),$(".note").removeClass("hide-this")),$("#rectangle").is(":checked")&&!$(":input[data-colour]").is(":checked")?$(".p-renders").addClass("hide-this"):$("#round").is(":checked")&&!$(":input[data-colour]").is(":checked")&&$(".p-renders-round").addClass("hide-this"),$(":input[data-trim]").is(":checked")&&($(".meta-grid-edging").removeClass("hide-this"),$(".meta-grid-size").removeClass("hide-this")),$("#round").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")&&$(".size").css({display:"grid",opacity:"1"});function J(n,i,f){$(":input["+n+"]").each(function(){var l=$(this).data(n.replace("data-",""));$(this).is(":checked")&&($("."+i+l).removeClass("hide-this"),b=l.charAt(0).toUpperCase()+l.slice(1))})}function Q(){var n={charcoal:"#222",silver:"#565656",mustard:"#b4a240",bronze:"#b48645",metal:"#92a19b",earthy:"#b5a184",dove:"#ccc3b5"};$(":input[data-colour]").each(function(){var i=$(this).data("colour");if($(this).is(":checked")){b=i.charAt(0).toUpperCase()+i.slice(1);var f=n[i];f&&$(".p-colour-overlay").css("background-color",f),$(".s-"+i+", .t-"+i+", .et-"+i).removeClass("hide-this")}})}if(J("data-pattern","p-",""),Q(),$("#handlePatternColours").html(b),a<=1.2?M=326.09:a<=1.6?M=434.78:a<=2?M=543.48:a<=3?M=652.17:M=817.39,g=width_m*length_m,A=70/1.15,o=g*A,$("#anti-slip").is(":checked")){var e=z+X+o+Y+M;$(".meta-grid-antislip").removeClass("hide-this")}else{var e=z+X+Y+M;$(".meta-grid-antislip").addClass("hide-this")}r=o*k,r=Math.ceil(r),$(".anti-slip-price").text("R "+r);var p=e*k,s=Math.ceil(p);if($("#curvy").is(":checked")?($(".form-curvy").css("display","block"),$(".form-main").css("display","none"),$(".renders-main").css("display","none"),$(".renders-curvy").css("display","block"),$("#curvy-sizes").css("display","flex")):($(".form-curvy").css("display","none"),$(".form-main").css("display","block"),$(".renders-main").css("display","block"),$(".renders-curvy").css("display","none")),$("#meta-colour").html(b),$("#curvy").is(":checked")){if($(".anti-slip-price").text(""),M=1,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-shape").html("Curvy"),$("#meta-feel").html("Curvy Soft"),$("#meta-colour").html(""),$("#meta-edging").html(""),$("#meta-size").css("display","flex"),$("#meta-diameter").css("display","none"),$("#meta-length").html(""),$("#meta-width").html(""),$(":input[data-feel='curvy_small']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Small"),$("#meta-size").css("display","flex"),$("#meta-width").html("120 cm"),$("#meta-length").html("160 cm"),s=2300,p=2300,e=2300;let i=(e/4).toFixed(2);if($(".float-price").text("R "+i),$("#total_amount").text("R 2300"),g=1.2*1.6,o=g*A,r=o*k,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){s=Math.ceil(e+o*k),p=s,e=s,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_medium']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Medium"),$("#meta-size").css("display","flex"),$("#meta-width").html("200 cm"),$("#meta-length").html("300 cm"),s=4800,p=4800,e=4800;let i=(e/4).toFixed(2);if($(".float-price").text("R "+i),$("#total_amount").text("R "+e),g=2*3,o=g*A,r=o*k,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){s=Math.ceil(e+o*k),p=s,e=s,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_large']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Large"),$("#meta-size").css("display","flex"),$("#meta-width").html("300 cm"),$("#meta-length").html("350 cm"),s=7900,p=7900,e=7900;let i=(e/4).toFixed(2);if($(".float-price").text("R "+i),$("#total_amount").text("R "+e),g=3*3.5,o=g*A,r=o*k,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){s=Math.ceil(e+o*k),p=s,e=s,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_mini_mat_small']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Mini Mat Small "),$("#meta-size").css("display","flex"),$("#meta-width").html("50 cm"),$("#meta-length").html("80 cm"),s=700,p=700,e=700;let i=(e/4).toFixed(2);if($(".float-price").text("R "+i),$("#total_amount").text("R "+e),g=3*3.5,o=g*A,r=o*k,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){s=Math.ceil(e+o*k),p=s,e=s,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_mini_mat_large']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Mini Mat Large "),$("#meta-size").css("display","flex"),$("#meta-width").html("60 cm"),$("#meta-length").html("100 cm"),s=900,p=900,e=900;let i=(e/4).toFixed(2);if($(".float-price").text("R "+i),$("#total_amount").text("R "+e),g=3*3.5,o=g*A,r=o*k,r=Math.ceil(r),$(".anti-slip-price").text("R "+r),$("#anti-slip").is(":checked")){s=Math.ceil(e+o*k),p=s,e=s,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}$(":input[data-feel-curvy]").is(":checked")?($("#curvy-colours").css("display","grid"),$(":input[curvy-colour]").is(":checked")?$("#curvy-trims").css("display","grid"):$("#curvy-trims").css("display","none")):($("#curvy-colours").css("display","none"),$("#curvy-trims").css("display","none")),$(":input[data-colour='chartreuse']").is(":checked")&&(b="Chartreuse",$(".close-chartreuse").removeClass("hide-this")),$(":input[data-colour='blush']").is(":checked")&&(b="Blush",$(".close-blush").removeClass("hide-this")),$(":input[data-colour='peach']").is(":checked")&&(b="Peach",$(".close-peach").removeClass("hide-this")),$(":input[data-colour='brick']").is(":checked")&&(b="Brick",$(".close-brick").removeClass("hide-this")),$(":input[data-colour='moss']").is(":checked")&&(b="Moss",$(".close-moss").removeClass("hide-this")),$(":input[data-colour='stormy-sea']").is(":checked")&&(b="Stormy Sea",$(".close-stormy-sea").removeClass("hide-this")),$(":input[data-colour='navy']").is(":checked")&&(b="Navy",$(".close-navy").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(".minimat-renders").removeClass("hide-this"),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='chartreuse']").is(":checked")&&($(".minimat-overlay").css("background-color","#8d7b01"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='blush']").is(":checked")&&($(".minimat-overlay").css("background-color","#b0999b"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='peach']").is(":checked")&&($(".minimat-overlay").css("background-color","#8b5e4d"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='brick']").is(":checked")&&($(".minimat-overlay").css("background-color","#5f362e"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='moss']").is(":checked")&&($(".minimat-overlay").css("background-color","#736d4a"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='stormy-sea']").is(":checked")&&($(".minimat-overlay").css("background-color","#4c5d5e"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='navy']").is(":checked")&&($(".minimat-overlay").css("background-color","#313740"),$(".minimat-grey-image").removeClass("hide-this")),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cs-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cs-blush").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cs-peach").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cs-brick").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cs-moss").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cs-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cs-navy").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cm-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cm-blush").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cm-peach").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cm-brick").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cm-moss").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cm-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cm-navy").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cl-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cl-blush").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cl-peach").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cl-brick").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cl-moss").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cl-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cl-navy").removeClass("hide-this"),$(":input[data-trim='curvy']").is(":checked")&&$(".meta-grid-edging").removeClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&(u="Chartreuse Edge",$(".close-chartreuse-trim").removeClass("hide-this")),$(":input[data-trim-colour='blush']").is(":checked")&&(u="Blush Edge",$(".close-blush-trim").removeClass("hide-this")),$(":input[data-trim-colour='peach']").is(":checked")&&(u="Peach Edge",$(".close-peach-trim").removeClass("hide-this")),$(":input[data-trim-colour='brick']").is(":checked")&&(u="Brick Edge",$(".close-brick-trim").removeClass("hide-this")),$(":input[data-trim-colour='moss']").is(":checked")&&(u="Moss Edge",$(".close-moss-trim").removeClass("hide-this")),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&(u="Stormy Sea Edge",$(".close-stormy-sea-trim").removeClass("hide-this")),$(":input[data-trim-colour='navy']").is(":checked")&&(u="Navy Edge",$(".close-navy-trim").removeClass("hide-this")),$(":input[data-feel='curvy_large']").is(":checked")?($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".large-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".large-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".large-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".large-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".large-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".large-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".large-navy").removeClass("hide-this")):$(":input[data-feel='curvy_medium']").is(":checked")?($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".medium-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".medium-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".medium-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".medium-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".medium-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".medium-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".medium-navy").removeClass("hide-this")):$(":input[data-feel='curvy_small']").is(":checked")&&($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".small-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".small-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".small-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".small-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".small-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".small-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".small-navy").removeClass("hide-this")),$(":input[data-minimat]").is(":checked")?$(":input[data-trim-colour='chartreuse']").is(":checked")?$(".minimat-chartreuse").removeClass("hide-this"):$(":input[data-trim-colour='blush']").is(":checked")?$(".minimat-blush").removeClass("hide-this"):$(":input[data-trim-colour='peach']").is(":checked")?$(".minimat-peach").removeClass("hide-this"):$(":input[data-trim-colour='brick']").is(":checked")?$(".minimat-brick").removeClass("hide-this"):$(":input[data-trim-colour='moss']").is(":checked")?$(".minimat-moss").removeClass("hide-this"):$(":input[data-trim-colour='stormy-sea']").is(":checked")?$(".minimat-stormy-sea").removeClass("hide-this"):$(":input[data-trim-colour='navy']").is(":checked")&&$(".minimat-navy").removeClass("hide-this"):$(".trim-minimat img").addClass("hide-this");var te=$(":input[curvy-colour]:checked").data("curvy-colour");$("#meta-colour").html(te),$("#meta-edging").html(u)}if($(":input[curvy-colour]").click(function(){$(".renders-curvy").removeClass("hide-this"),$(".renders-closeup").addClass("hide-this"),$(".note").html("&nbsp;")}),$(":input[data-trim='curvy']").click(function(){$(".renders-curvy").addClass("hide-this"),$(".renders-closeup").removeClass("hide-this"),$(".renders-closeup").css("display","block"),$(".note").html("Close up")}),$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")){$(".add-to-cart-replacement").addClass("hide"),$(".html-anti-slip").removeClass("disabled"),$("#anti-slip").removeAttr("disabled"),$(".html-buy-button, .shopify-buy__btn").removeClass("disabled"),$(".html-buy-button").removeClass("hide"),$(".invoice-buttons").removeClass("hide"),$("#total_amount").html("R "+s);let i=(s/4).toFixed(2);$(".float-price").text("R "+i)}$(":input[data-shape='rectangle'], :input[data-shape='round']").is(":checked")&&$(":input[data-feel]").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")||$(":input[data-shape]").is(":checked")&&$(":input[data-feel='pattern']").is(":checked")&&$(":input[data-pattern]").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")||$(":input[data-shape='curvy']").is(":checked")&&$(":input[data-feel-curvy]").is(":checked")&&$(":input[curvy-colour]").is(":checked")&&$(":input[data-trim='curvy']").is(":checked")?$("#add_to_cart_wrapper").show():$("#add_to_cart_wrapper").hide(),$("#curvy").is(":checked")?$(".discount-grid").show():$(".discount-grid").hide()}),$(".pdf-line-item").remove(),$(document).on("click",".item-remove",function(){$(this).parent().remove(),$(".pdf-line-item").length==0?$(".invoice, .get-invoice").addClass("hide"):I()});function I(){var h=0;$(".price-interger").each(function(){h+=parseInt($(this).text());var c=h*.15,a=Math.ceil(c),t="<span>R </span>"+h.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),m="<span>R </span>"+a.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");$("#pdf-sub-total").html(t),$("#pdf-vat-total").html(m),$("#pdf-total-due").html(t),$(".button-wrapper").removeClass("hide"),$(".get-invoice").removeClass("hide")})}$("#add-to-invoice-text, #add-to-invoice").off().click(function(){$(".invoice").removeClass("hide"),$(".get-invoice").removeClass("hide");var h=$("#meta-shape").text(),c=$("#meta-feel").text(),a=$("#meta-colour").text(),t=$("#meta-edging").text(),m=$("#meta-pattern").text();if(m!=null?m=" "+m:m="",$("#round").is(":checked"))var _=$("#meta-diameter").text();else var _=$("#meta-size").text();var ee=$("#total_amount").text(),P=ee.substring(2),R=P.replace(/\B(?=(\d{3})+(?!\d))/g,","),G="Shape:&nbsp;"+h+" / Feel:&nbsp;"+c+m+" / Colour:&nbsp;"+a+" / Edging:&nbsp;"+t+" / Size:&nbsp;"+_,B="<div class='w-layout-grid pdf-line-item'><div class='item-detail'>"+G+"</div><div class='item-price' data-price='"+P+"' >R&nbsp;"+R+"<span class='price-interger' style='display:none;'>"+P+"</span></div><div class='item-remove'><div class='remove-bar'></div><div class='remove-bar flip'></div></div></div>";$("#pdf-items").append(B);var S="<input type='hidden' id='"+P+"' name='Line Item' value='"+G+" / Price: R&nbsp;"+P+"'>";$("#form-fields").append(S),I(),$("#download-invoice").click(function(){var D=$("#invoiceCompany").val(),F=$("#invoiceName").val(),z=$("#invoicePhone").val(),J=$("#invoiceEmail").val(),Q=$("#invoiceVat").val(),e=$("#invoiceAddress").val(),p=Math.round(new Date().getTime()/1e3);if($("#pdf-number").replaceWith("# "+p),$("#pdf-company").replaceWith(D),$("#pdf-contact").replaceWith(F),$("#pdf-phone").replaceWith(z),$("#pdf-email").replaceWith(J),$("#pdf-vat").replaceWith(Q),$("#pdf-address").replaceWith(e),D==""&&$(".pdf-company, #pdf-company").remove(),z==""&&$(".pdf-phone, #pdf-phone").remove(),Q==""&&$(".pdf-vat, #pdf-vat").remove(),e==""&&$(".pdf-address, #pdf-address").remove(),F!=""&&J!=""){var s=new jsPDF;s.addHTML($("#pdf-invoice").css({width:"29.7cm",height:"42cm"}),$("#pdf-invoice")[0],function(){s.save("yudu-pro-forma-invoice-"+p+".pdf");var te=!0})}$("#pdf-invoice").css({width:"auto",height:"auto"})})});let d=()=>{w?$(".p-colour-overlay").css("opacity","1"):$(".p-colour-overlay").css("opacity","0")},N=()=>{fe?$(".minimat-overlay").css("opacity","1"):$(".minimat-overlay").css("opacity","0")}});$(document).ready(function(){$(".samples-detail.carpet").remove();var H,y,C,x,I,d,N,h=!0,c=[],a="Only 5 samples per order allowed!";t();function t(){y=$(".samples-detail-wrapper .samples-detail").length,$(".samples-tab .samples-tab-count").text(y),N=5-y,$(".samples-text.count .count-val").text(N),y>0?($(".remove-notice").addClass("hide"),$(".samples-tab").css("display","flex"),$(".samples-cta-wrapper").removeClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","auto")):(c=[],$(".remove-notice").removeClass("hide"),$(".samples-tab").css("display","none"),$(".samples-cta-wrapper").addClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","none"))}function m(){h==!0&&($(".samples-detail.trim").appendTo($(".samples-detail-wrapper")),$(".samples-detail.trim .add-trim-samples").css("display","none"),$(".samples-detail.trim").find(".carpet-type").text("Edging Pack"),h=!1),t(),y<5?jQuery.inArray(sampleID,c)>=0?alert(C+" "+x+" has already been added."):($(".samples-detail-wrapper").prepend(d),c.push(sampleID)):alert(a),t()}$("#sampleButton").click(function(){C=$(":input[data-feel]:checked").val(),C=="Pattern"&&(thePattern=$(":input[data-pattern]:checked").val(),C=C+" / "+thePattern),x=$(":input[data-colour]:checked").val(),I=$(":input[data-colour]:checked").siblings().children().attr("src"),d="<div class='samples-detail carpet'><div class='samples-image-wrapper'><img src='"+I+"' class='samples-image' alt=''></div><div class='samples-name-wrapper'><div class='samples-name'><div class='carpet-type'>"+C+"</div><div class='carpet-colour'>"+x+"</div></div><div class='remove-samples'><div class='remove-icon'><div class='icon-bar'></div></div></div></div></div>",theFeelID=C.replace(/ /g,"").toLowerCase(),theColorID=x.replace(/ /g,"").toLowerCase(),sampleID=theFeelID+"-"+theColorID,m(),t(),$(".samples-tab").click(),$(".samples-tab").css("display","flex")}),$(".samples-detail.trim").on("click",".remove-samples",function(){$(this).css("display","none"),$(this).parent(".samples-detail.trim").find(".add-trim-samples").css("display","flex"),$(this).parent(".samples-detail.trim").prependTo($(".trim-garage")),$(this).parent(".samples-detail.trim").find(".carpet-type").text("Add Edging Pack"),t()}),$(".samples-detail.trim").on("click",".add-trim-samples",function(){t(),y<5?($(this).css("display","none"),$(this).parent(".samples-detail.trim").find(".remove-samples").css("display","flex"),$(this).parent(".samples-detail.trim").appendTo($(".samples-detail-wrapper")),$(this).parent(".samples-detail.trim").find(".carpet-type").text("Edging Pack"),t()):alert(a)}),$(".samples-detail-wrapper").on("click",".samples-detail.carpet .samples-name-wrapper .remove-samples",function(){removeFeel=$(this).parents(".samples-name-wrapper").find(".carpet-type").text(),removeColor=$(this).parents(".samples-name-wrapper").find(".carpet-colour").text(),removeFeelID=removeFeel.replace(/ /g,"").toLowerCase(),removeColorID=removeColor.replace(/ /g,"").toLowerCase(),removeID=removeFeelID+"-"+removeColorID,c=jQuery.grep(c,function(_){return _!=removeID}),$(this).parents(".samples-detail-wrapper .samples-detail.carpet").fadeOut(200,function(){$(this).remove(),t()}),t()})});function ke(){setTimeout(function(){$(".samples-detail.carpet").remove(),$(".field-label").css("opacity","1"),$("#checkoutButton").text("Order for R150"),$(".remove-notice").removeClass("hide"),$(".samples-cart .samples-close").click(),$(".samples-tab").css("display","none"),$(".samples-cta-wrapper").addClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","none"),sampleArray=[]},3e3)}var ce=ShopifyBuy.buildClient({domain:"yudu2020.myshopify.com",storefrontAccessToken:"4a0e78fe19caee70a369f98925b4a317"}),L=document.querySelector("#checkoutButton");L.addEventListener("click",H=>{L.textContent="Please wait...",ce.checkout.create().then(async y=>{let C="https://yudu-server.herokuapp.com/yudu-sample-rug-api",x=document.querySelectorAll(".samples-detail-wrapper .samples-detail"),I="150";if(x.length>0){let d="";x.forEach(c=>{let a=c.children[1].children[0].children[0].innerHTML,t=c.children[1].children[0].children[1].innerHTML;d.length<1?d=a+" / "+t:d+=" / "+a+" / "+t});let h={method:"POST",body:JSON.stringify({variantString:d,price:I}),headers:{"Content-Type":"Application/JSON"}};try{let a=[{variantId:(await fetch(C,h).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()})).id,quantity:1}];ce.checkout.addLineItems(y.id,a).then(t=>{window.open(t.webUrl),ke()}).catch(t=>{L.textContent="Order for R150",alert("There was an error processing your order. Please try again.")})}catch{L.textContent="Order for R150",alert("There was an error processing your order. Please try again.")}}else L.textContent="Order for R150",alert("Please select at least one sample before checking out.")}).catch(y=>{L.textContent="Order for R150",alert("There was an error processing your order. Please try again.")})});})();
