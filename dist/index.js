(()=>{var re=190,ce=280,le=100,de=155,oe=35,ne=90,he=155,J=0,me=300,pe=390,ie=1.8,ue=2,C=1.15,ae=0,Q=0,Z=0,M=0,Y=0,z=0,q=0,W=0,V=0,x,p,E,_,d,s,P=0,$e=0,u=null,j=!1,H=!1,N=!1,G=!1,se="STYLVOL";$(function(){$("#add_to_cart_wrapper").hide(),$(".note, .renders, .meta-block, .meta-grid-shape, .meta-grid-feel, .meta-grid-pattern, .meta-grid-colour, .meta-grid-edging, .meta-grid-size, .meta-grid-antislip, .invoice-buttons").addClass("hide-this"),$(".html-anti-slip, .html-buy-button, .shopify-buy__btn").addClass("disabled"),$("#anti-slip").attr("disabled",!0),setTimeout(()=>{$(".html-buy-button").removeClass("disabled"),$(".shopify-buy__btn").addClass("disabled")},2e3),$("#carpet_width").val(200),$("#carpet_length").val(300),$("#carpet_diameter").val(200);var K=$("#discount-code"),I=$(".discount-grid"),R=$(".discount-success");function L(){var f=K.val().toUpperCase(),c=f===se;I.toggle(!c),R.toggle(c),K.attr("data-discount",c?"true":"false")}$("#apply-discount").click(L),$("input").change(function(){($("#rectangle").is(":checked")||$("#round").is(":checked"))&&($(".discount-grid").css("display","grid"),$(".discount-success").css("display","none"),$("#discount-code").attr("data-discount","false"));var f=$(":input[data-feel^='curvy']").is(":checked");$("#discount-box").css("display",f?"block":"none"),$("#discount-code").attr("data-discount",f&&$("#discount-code").val()===se?"true":"false"),$(".renders img").addClass("render hide-this"),j===!1&&$(":input[data-feel='soft']").is(":checked")&&($(":input[data-soft]").first().prop("checked",!0),$(":input[data-soft]").siblings().removeClass("w--redirected-checked"),$(":input[data-soft]").first().siblings().addClass("w--redirected-checked"),j=!0),H===!1&&$(":input[data-feel='ultra-soft']").is(":checked")&&($(":input[data-ultra-soft]").first().prop("checked",!0),$(":input[data-ultra-soft]").siblings().removeClass("w--redirected-checked"),$(":input[data-ultra-soft]").first().siblings().addClass("w--redirected-checked"),H=!0),N===!1&&$(":input[data-feel='textured']").is(":checked")&&($(":input[data-textured]").first().prop("checked",!0),$(":input[data-textured]").siblings().removeClass("w--redirected-checked"),$(":input[data-textured]").first().siblings().addClass("w--redirected-checked"),N=!0),G===!1&&$(":input[data-feel='pattern']").is(":checked")&&($(":input[data-pattern]").first().prop("checked",!0),$(":input[data-pattern]").siblings().removeClass("w--redirected-checked"),$(":input[data-pattern]").first().siblings().addClass("w--redirected-checked"),$(":input[data-pattern-colour]").first().prop("checked",!0),$(":input[data-pattern-colour]").siblings().removeClass("w--redirected-checked"),$(":input[data-pattern-colour]").first().siblings().addClass("w--redirected-checked"),G=!0),$("#soft").is(":checked")?(H=!1,N=!1,G=!1):$("#ultra-soft").is(":checked")?(j=!1,N=!1,G=!1):$("#textured").is(":checked")?(j=!1,H=!1,G=!1):$("#pattern").is(":checked")&&(j=!1,H=!1,N=!1),q=document.getElementById("carpet_width").value,W=document.getElementById("carpet_length").value,V=document.getElementById("carpet_diameter").value;function c(o,t,k,l){var te=o.charAt(0).toUpperCase()+o.slice(1)+" must be between "+k+"cm and "+l+"cm";return t>l?($("#carpet_"+o).val(l),alert(te),l):t<k?($("#carpet_"+o).val(k),alert(te),k):t}q=c("width",q,80,400),W=c("length",W,100,1e3),V=c("diameter",V,100,400),$("#meta-width").html(q+" cm"),$("#meta-length").html(W+" cm"),$("#meta-diameter").html("\u2300 "+V+" cm"),width_m=q/100,length_m=W/100;var r=Math.min(width_m,length_m),i=Math.max(width_m,length_m);if(r<=2&&i<=2||r>2&&r<=4&&i>2&&i<=4||i>=3.5&&i<=4?(width_m=i,length_m=r):(width_m=r,length_m=i),$("#Chevron").is(":checked")||$("#Cubed").is(":checked")||$("#Mesh").is(":checked")||$("#Relic").is(":checked")||$("#Scales").is(":checked")||$("#Swirl").is(":checked")||$("#Tulle").is(":checked")?$(".pattern-colours, .patter-colour .colour").css("display","block"):$(".pattern-colours, .patter-colour .colour").css("display","none"),$("#pattern").is(":checked")&&(width_m=r,length_m=i),width_m<=2)var n=2;else var n=4;b=length_m+.2;var g=V/100,U=V/100+.2;ae=width_m*b;var h=n*b;if($("#rectangle").is(":checked")?($(".feel").show(),$(".radio-button-field.trim").show(),$(".trim").show(),$(".trim-swatches").show()):$("#round").is(":checked")?($(".feel").show(),$(".radio-button-field.trim").hide(),$(".trim-swatches").show()):$("#curvy").is(":checked")&&$(".radio-button-field.trim").show(),$('input[type="radio"][data-colour]:checked').length>0?$(".trim-colours").show():$(".trim-colours").hide(),$('input[type="radio"][data-trim]:checked').length>0?$(".size").show():$(".size").hide(),$("#soft").is(":checked")){$(".soft-colours").show(),$(".ultra-soft-colours").hide(),$(".textured-colours").hide(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var y="Soft";M=re,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(y)}else if($("#ultra-soft").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").show(),$(".textured-colours").hide(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var y="Ultra Soft";M=ce,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(y)}else if($("#textured").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").hide(),$(".textured-colours").show(),$(".choose-pattern").hide(),$(".pattern-colours").hide();var y="Textured";M=le,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(y)}else if($("#pattern").is(":checked")){$(".soft-colours").hide(),$(".ultra-soft-colours").hide(),$(".textured-colours").hide(),$(".choose-pattern").show(),$(".pattern-colours").show();var y="Pattern";M=de,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-feel").html(y)}if($("#Chevron").is(":checked")&&$("#pattern").is(":checked")?(u="Chevron",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#Cubed").is(":checked")&&$("#pattern").is(":checked")?(u="Cubed",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#Mesh").is(":checked")&&$("#pattern").is(":checked")?(u="Mesh",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#Relic").is(":checked")&&$("#pattern").is(":checked")?(u="Relic",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#Scales").is(":checked")&&$("#pattern").is(":checked")?(u="Scales",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#Swirl").is(":checked")&&$("#pattern").is(":checked")?(u="Swirl",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#Tulle").is(":checked")&&$("#pattern").is(":checked")?(u="Tulle",$("#meta-pattern").html(u),$(".meta-grid-pattern").removeClass("hide-this")):$("#curvy").is(":checked")&&$(".meta-grid-pattern").addClass("hide-this"),$("#pattern").is(":checked")||($("#meta-pattern").html(""),$(".meta-grid-pattern").addClass("hide-this"),$(":input[data-pattern]").prop("checked",!1)),$(":input[data-trim='overlocking']").is(":checked"))Z=oe,p="Overlocking",$("#meta-edging").html(p);else if($(":input[data-trim='trim']").is(":checked")){Z=he;var O=["chai","veld","moss","shade","sable","slate","mallow","blaze","frost","reef","jet","coco"];$.each(O,function(o,t){if($(":input[data-trim-colour='"+t+"']").is(":checked"))return p=t.charAt(0).toUpperCase()+t.slice(1),$("."+t).removeClass("hide-this"),$("#meta-edging").html(p),!1})}if($("#round").is(":checked")){var A="Round";J=pe,width_m=g,length_m=g,r=g,width_m<=2?n=2:n=4;var b=length_m+.2;Q=2*Math.PI*(g/2),Y=Q*ne,ae=Math.PI*(g/2)*(g/2),h=n*b,$(":input[data-trim='trim']").prop("checked",!1),$(":input[data-trim='trim']").siblings().removeClass("w--redirected-checked"),$(":input[data-trim='overlocking']").prop("checked",!0),$(":input[data-trim='overlocking']").siblings().addClass("w--redirected-checked"),p="Overlocking",$("#meta-edging").html(p),$("#meta-shape").html(A),$("#meta-size").css("display","none"),$("#meta-diameter").css("display","block"),$(".trim-swatches").addClass("hide-this"),$(".width-wrapper").addClass("hide-this"),$(".length-wrapper").addClass("hide-this"),$(".diameter-wrapper").removeClass("hide-this");var w=h*M,S=width_m*b*M*ie,D=w+S}else if($("#rectangle").is(":checked")){var A="Rectangle";J=me,Q=(width_m+length_m)*2,Y=Q*Z,$("#meta-shape").html(A),$("#meta-size").css("display","flex"),$("#meta-diameter").css("display","none"),$(".trim-swatches").removeClass("hide-this"),$(".width-wrapper").removeClass("hide-this"),$(".length-wrapper").removeClass("hide-this"),$(".diameter-wrapper").addClass("hide-this");var w=h*M,S;$("#pattern").is(":checked")?S=width_m*b*M*ue:S=width_m*b*M*ie;var D=w+S}$("#round").is(":checked")?($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this"),$(".minimat-renders").addClass("hide-this"),$("#soft").is(":checked")||$("#ultra-soft").is(":checked")?($(".s-renders-round").removeClass("hide-this"),P=0,v()):$("#textured").is(":checked")?($(".textured-colours .colour").css("display","block"),$(".t-renders-round").removeClass("hide-this"),P=0,v()):$("#extra_textured").is(":checked")?($(".et-renders-round").removeClass("hide-this"),P=0,v()):$("#pattern").is(":checked")&&($(".p-renders-round").removeClass("hide-this"),P=1,v())):$("#rectangle").is(":checked")?($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this"),$(".minimat-renders").addClass("hide-this"),$("#soft").is(":checked")||$("#ultra-soft").is(":checked")?($(".s-renders").removeClass("hide-this"),P=0,v()):$("#textured").is(":checked")?($(".t-renders").removeClass("hide-this"),P=0,v()):$("#extra_textured").is(":checked")?($(".et-renders").removeClass("hide-this"),P=0,v()):$("#pattern").is(":checked")&&($(".p-renders").removeClass("hide-this"),P=1,v())):$("#curvy").is(":checked")&&($(".s-renders").addClass("hide-this"),$(".t-renders").addClass("hide-this"),$(".et-renders").addClass("hide-this"),$(".p-renders").addClass("hide-this"),$(".s-renders-round").addClass("hide-this"),$(".t-renders-round").addClass("hide-this"),$(".et-renders-round").addClass("hide-this"),$(".p-renders-round").addClass("hide-this")),($("#round").is(":checked")||$("#rectangle").is(":checked")||$("#curvy").is(":checked"))&&($(".preview-message").addClass("hide-this"),$(".meta-block").removeClass("hide-this"),$(".meta-grid-shape").removeClass("hide-this")),$(":input[data-colour]").is(":checked")&&($(".renders").removeClass("hide-this"),$(".meta-grid-colour").removeClass("hide-this"),$(".note").removeClass("hide-this")),$("#rectangle").is(":checked")&&!$(":input[data-colour]").is(":checked")?$(".p-renders").addClass("hide-this"):$("#round").is(":checked")&&!$(":input[data-colour]").is(":checked")&&$(".p-renders-round").addClass("hide-this"),$(":input[data-trim]").is(":checked")&&($(".meta-grid-edging").removeClass("hide-this"),$(".meta-grid-size").removeClass("hide-this")),$("#round").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")&&$(".size").css({display:"grid",opacity:"1"});function T(o,t,k){$(":input["+o+"]").each(function(){var l=$(this).data(o.replace("data-",""));$(this).is(":checked")&&($("."+t+l).removeClass("hide-this"),x=l.charAt(0).toUpperCase()+l.slice(1))})}function F(){var o={charcoal:"#222",silver:"#565656",mustard:"#b4a240",bronze:"#b48645",metal:"#92a19b",earthy:"#b5a184",dove:"#ccc3b5"};$(":input[data-colour]").each(function(){var t=$(this).data("colour");if($(this).is(":checked")){x=t.charAt(0).toUpperCase()+t.slice(1);var k=o[t];k&&$(".p-colour-overlay").css("background-color",k),$(".s-"+t+", .t-"+t+", .et-"+t).removeClass("hide-this")}})}if(T("data-pattern","p-",""),F(),$("#handlePatternColours").html(x),r<=1.2?z=326.09:r<=1.6?z=434.78:r<=2?z=543.48:r<=3?z=652.17:z=817.39,_=width_m*length_m,E=70/1.15,d=_*E,$("#anti-slip").is(":checked")){var e=D+Y+d+J+z;$(".meta-grid-antislip").removeClass("hide-this")}else{var e=D+Y+J+z;$(".meta-grid-antislip").addClass("hide-this")}s=d*C,s=Math.ceil(s),$(".anti-slip-price").text("R "+s);var m=e*C,a=Math.ceil(m);if($("#curvy").is(":checked")?($(".form-curvy").css("display","block"),$(".form-main").css("display","none"),$(".renders-main").css("display","none"),$(".renders-curvy").css("display","block"),$("#curvy-sizes").css("display","flex")):($(".form-curvy").css("display","none"),$(".form-main").css("display","block"),$(".renders-main").css("display","block"),$(".renders-curvy").css("display","none")),$("#meta-colour").html(x),$("#curvy").is(":checked")){if($(".anti-slip-price").text(""),z=1,$(".meta-grid-feel").removeClass("hide-this"),$("#meta-shape").html("Curvy"),$("#meta-feel").html("Curvy Soft"),$("#meta-colour").html(""),$("#meta-edging").html(""),$("#meta-size").css("display","flex"),$("#meta-diameter").css("display","none"),$("#meta-length").html(""),$("#meta-width").html(""),$(":input[data-feel='curvy_small']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Small"),$("#meta-size").css("display","flex"),$("#meta-width").html("120 cm"),$("#meta-length").html("160 cm"),a=2300,m=2300,e=2300;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R 2300"),_=1.2*1.6,d=_*E,s=d*C,s=Math.ceil(s),$(".anti-slip-price").text("R "+s),$("#anti-slip").is(":checked")){a=Math.ceil(e+d*C),m=a,e=a,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_medium']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Medium"),$("#meta-size").css("display","flex"),$("#meta-width").html("200 cm"),$("#meta-length").html("300 cm"),a=4800,m=4800,e=4800;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=2*3,d=_*E,s=d*C,s=Math.ceil(s),$(".anti-slip-price").text("R "+s),$("#anti-slip").is(":checked")){a=Math.ceil(e+d*C),m=a,e=a,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_large']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Large"),$("#meta-size").css("display","flex"),$("#meta-width").html("300 cm"),$("#meta-length").html("350 cm"),a=7900,m=7900,e=7900;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=3*3.5,d=_*E,s=d*C,s=Math.ceil(s),$(".anti-slip-price").text("R "+s),$("#anti-slip").is(":checked")){a=Math.ceil(e+d*C),m=a,e=a,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_mini_mat_small']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Mini Mat Small "),$("#meta-size").css("display","flex"),$("#meta-width").html("50 cm"),$("#meta-length").html("80 cm"),a=700,m=700,e=700;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=3*3.5,d=_*E,s=d*C,s=Math.ceil(s),$(".anti-slip-price").text("R "+s),$("#anti-slip").is(":checked")){a=Math.ceil(e+d*C),m=a,e=a,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}else if($(":input[data-feel='curvy_mini_mat_large']").is(":checked")){$(".meta-grid-size").removeClass("hide-this"),$("#meta-shape").html("Curvy Mini Mat Large "),$("#meta-size").css("display","flex"),$("#meta-width").html("60 cm"),$("#meta-length").html("100 cm"),a=900,m=900,e=900;let t=(e/4).toFixed(2);if($(".float-price").text("R "+t),$("#total_amount").text("R "+e),_=3*3.5,d=_*E,s=d*C,s=Math.ceil(s),$(".anti-slip-price").text("R "+s),$("#anti-slip").is(":checked")){a=Math.ceil(e+d*C),m=a,e=a,$("#total_amount").text("R "+e);let l=(e/4).toFixed(2);$(".float-price").text("R "+l)}}$(":input[data-feel-curvy]").is(":checked")?($("#curvy-colours").css("display","grid"),$(":input[curvy-colour]").is(":checked")?$("#curvy-trims").css("display","grid"):$("#curvy-trims").css("display","none")):($("#curvy-colours").css("display","none"),$("#curvy-trims").css("display","none")),$(":input[data-colour='chartreuse']").is(":checked")&&(x="Chartreuse",$(".close-chartreuse").removeClass("hide-this")),$(":input[data-colour='blush']").is(":checked")&&(x="Blush",$(".close-blush").removeClass("hide-this")),$(":input[data-colour='peach']").is(":checked")&&(x="Peach",$(".close-peach").removeClass("hide-this")),$(":input[data-colour='brick']").is(":checked")&&(x="Brick",$(".close-brick").removeClass("hide-this")),$(":input[data-colour='moss']").is(":checked")&&(x="Moss",$(".close-moss").removeClass("hide-this")),$(":input[data-colour='stormy-sea']").is(":checked")&&(x="Stormy Sea",$(".close-stormy-sea").removeClass("hide-this")),$(":input[data-colour='navy']").is(":checked")&&(x="Navy",$(".close-navy").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(".minimat-renders").removeClass("hide-this"),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='chartreuse']").is(":checked")&&($(".minimat-overlay").css("background-color","#8d7b01"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='blush']").is(":checked")&&($(".minimat-overlay").css("background-color","#b0999b"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='peach']").is(":checked")&&($(".minimat-overlay").css("background-color","#8b5e4d"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='brick']").is(":checked")&&($(".minimat-overlay").css("background-color","#5f362e"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='moss']").is(":checked")&&($(".minimat-overlay").css("background-color","#736d4a"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='stormy-sea']").is(":checked")&&($(".minimat-overlay").css("background-color","#4c5d5e"),$(".minimat-grey-image").removeClass("hide-this")),($(":input[data-feel='curvy_mini_mat_small']").is(":checked")||$(":input[data-feel='curvy_mini_mat_large']").is(":checked"))&&$(":input[data-colour='navy']").is(":checked")&&($(".minimat-overlay").css("background-color","#313740"),$(".minimat-grey-image").removeClass("hide-this")),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cs-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cs-blush").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cs-peach").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cs-brick").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cs-moss").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cs-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_small']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cs-navy").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cm-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cm-blush").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cm-peach").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cm-brick").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cm-moss").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cm-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_medium']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cm-navy").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='chartreuse']").is(":checked")&&$(".cl-chartreuse").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='blush']").is(":checked")&&$(".cl-blush").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='peach']").is(":checked")&&$(".cl-peach").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='brick']").is(":checked")&&$(".cl-brick").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='moss']").is(":checked")&&$(".cl-moss").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='stormy-sea']").is(":checked")&&$(".cl-stormy-sea").removeClass("hide-this"),$(":input[data-feel='curvy_large']").is(":checked")&&$(":input[data-colour='navy']").is(":checked")&&$(".cl-navy").removeClass("hide-this"),$(":input[data-trim='curvy']").is(":checked")&&$(".meta-grid-edging").removeClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&(p="Chartreuse Edge",$(".close-chartreuse-trim").removeClass("hide-this")),$(":input[data-trim-colour='blush']").is(":checked")&&(p="Blush Edge",$(".close-blush-trim").removeClass("hide-this")),$(":input[data-trim-colour='peach']").is(":checked")&&(p="Peach Edge",$(".close-peach-trim").removeClass("hide-this")),$(":input[data-trim-colour='brick']").is(":checked")&&(p="Brick Edge",$(".close-brick-trim").removeClass("hide-this")),$(":input[data-trim-colour='moss']").is(":checked")&&(p="Moss Edge",$(".close-moss-trim").removeClass("hide-this")),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&(p="Stormy Sea Edge",$(".close-stormy-sea-trim").removeClass("hide-this")),$(":input[data-trim-colour='navy']").is(":checked")&&(p="Navy Edge",$(".close-navy-trim").removeClass("hide-this")),$(":input[data-feel='curvy_large']").is(":checked")?($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".large-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".large-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".large-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".large-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".large-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".large-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".large-navy").removeClass("hide-this")):$(":input[data-feel='curvy_medium']").is(":checked")?($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".medium-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".medium-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".medium-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".medium-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".medium-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".medium-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".medium-navy").removeClass("hide-this")):$(":input[data-feel='curvy_small']").is(":checked")&&($(".minimat-renders").addClass("hide-this"),$(":input[data-trim-colour='chartreuse']").is(":checked")&&$(".small-chartreuse").removeClass("hide-this"),$(":input[data-trim-colour='blush']").is(":checked")&&$(".small-blush").removeClass("hide-this"),$(":input[data-trim-colour='peach']").is(":checked")&&$(".small-peach").removeClass("hide-this"),$(":input[data-trim-colour='brick']").is(":checked")&&$(".small-brick").removeClass("hide-this"),$(":input[data-trim-colour='moss']").is(":checked")&&$(".small-moss").removeClass("hide-this"),$(":input[data-trim-colour='stormy-sea']").is(":checked")&&$(".small-stormy-sea").removeClass("hide-this"),$(":input[data-trim-colour='navy']").is(":checked")&&$(".small-navy").removeClass("hide-this")),$(":input[data-minimat]").is(":checked")?$(":input[data-trim-colour='chartreuse']").is(":checked")?$(".minimat-chartreuse").removeClass("hide-this"):$(":input[data-trim-colour='blush']").is(":checked")?$(".minimat-blush").removeClass("hide-this"):$(":input[data-trim-colour='peach']").is(":checked")?$(".minimat-peach").removeClass("hide-this"):$(":input[data-trim-colour='brick']").is(":checked")?$(".minimat-brick").removeClass("hide-this"):$(":input[data-trim-colour='moss']").is(":checked")?$(".minimat-moss").removeClass("hide-this"):$(":input[data-trim-colour='stormy-sea']").is(":checked")?$(".minimat-stormy-sea").removeClass("hide-this"):$(":input[data-trim-colour='navy']").is(":checked")&&$(".minimat-navy").removeClass("hide-this"):$(".trim-minimat img").addClass("hide-this");var ee=$(":input[curvy-colour]:checked").data("curvy-colour");$("#meta-colour").html(ee),$("#meta-edging").html(p)}if($(":input[curvy-colour]").click(function(){$(".renders-curvy").removeClass("hide-this"),$(".renders-closeup").addClass("hide-this"),$(".note").html("&nbsp;")}),$(":input[data-trim='curvy']").click(function(){$(".renders-curvy").addClass("hide-this"),$(".renders-closeup").removeClass("hide-this"),$(".renders-closeup").css("display","block"),$(".note").html("Close up")}),$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")){$(".add-to-cart-replacement").addClass("hide"),$(".html-anti-slip").removeClass("disabled"),$("#anti-slip").removeAttr("disabled"),$(".html-buy-button, .shopify-buy__btn").removeClass("disabled"),$(".html-buy-button").removeClass("hide"),$(".invoice-buttons").removeClass("hide"),$("#total_amount").html("R "+a);let t=(a/4).toFixed(2);$(".float-price").text("R "+t)}$(":input[data-shape='rectangle'], :input[data-shape='round']").is(":checked")&&$(":input[data-feel]").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")||$(":input[data-shape]").is(":checked")&&$(":input[data-feel='pattern']").is(":checked")&&$(":input[data-pattern]").is(":checked")&&$(":input[data-colour]").is(":checked")&&$(":input[data-trim]").is(":checked")||$(":input[data-shape='curvy']").is(":checked")&&$(":input[data-feel-curvy]").is(":checked")&&$(":input[curvy-colour]").is(":checked")&&$(":input[data-trim='curvy']").is(":checked")?$("#add_to_cart_wrapper").show():$("#add_to_cart_wrapper").hide(),$("#curvy").is(":checked")?$(".discount-grid").show():$(".discount-grid").hide()}),$(".pdf-line-item").remove(),$(document).on("click",".item-remove",function(){$(this).parent().remove(),$(".pdf-line-item").length==0?$(".invoice, .get-invoice").addClass("hide"):B()});function B(){var f=0;$(".price-interger").each(function(){f+=parseInt($(this).text());var c=f*.15,r=Math.ceil(c),i="<span>R </span>"+f.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),n="<span>R </span>"+r.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");$("#pdf-sub-total").html(i),$("#pdf-vat-total").html(n),$("#pdf-total-due").html(i),$(".button-wrapper").removeClass("hide"),$(".get-invoice").removeClass("hide")})}$("#add-to-invoice-text, #add-to-invoice").off().click(function(){$(".invoice").removeClass("hide"),$(".get-invoice").removeClass("hide");var f=$("#meta-shape").text(),c=$("#meta-feel").text(),r=$("#meta-colour").text(),i=$("#meta-edging").text(),n=$("#meta-pattern").text();if(n!=null?n=" "+n:n="",$("#round").is(":checked"))var g=$("#meta-diameter").text();else var g=$("#meta-size").text();var U=$("#total_amount").text(),h=U.substring(2),y=h.replace(/\B(?=(\d{3})+(?!\d))/g,","),O="Shape:&nbsp;"+f+" / Feel:&nbsp;"+c+n+" / Colour:&nbsp;"+r+" / Edging:&nbsp;"+i+" / Size:&nbsp;"+g,A="<div class='w-layout-grid pdf-line-item'><div class='item-detail'>"+O+"</div><div class='item-price' data-price='"+h+"' >R&nbsp;"+y+"<span class='price-interger' style='display:none;'>"+h+"</span></div><div class='item-remove'><div class='remove-bar'></div><div class='remove-bar flip'></div></div></div>";$("#pdf-items").append(A);var b="<input type='hidden' id='"+h+"' name='Line Item' value='"+O+" / Price: R&nbsp;"+h+"'>";$("#form-fields").append(b),B(),$("#download-invoice").click(function(){var w=$("#invoiceCompany").val(),S=$("#invoiceName").val(),D=$("#invoicePhone").val(),T=$("#invoiceEmail").val(),F=$("#invoiceVat").val(),e=$("#invoiceAddress").val(),m=Math.round(new Date().getTime()/1e3);if($("#pdf-number").replaceWith("# "+m),$("#pdf-company").replaceWith(w),$("#pdf-contact").replaceWith(S),$("#pdf-phone").replaceWith(D),$("#pdf-email").replaceWith(T),$("#pdf-vat").replaceWith(F),$("#pdf-address").replaceWith(e),w==""&&$(".pdf-company, #pdf-company").remove(),D==""&&$(".pdf-phone, #pdf-phone").remove(),F==""&&$(".pdf-vat, #pdf-vat").remove(),e==""&&$(".pdf-address, #pdf-address").remove(),S!=""&&T!=""){var a=new jsPDF;a.addHTML($("#pdf-invoice").css({width:"29.7cm",height:"42cm"}),$("#pdf-invoice")[0],function(){a.save("yudu-pro-forma-invoice-"+m+".pdf");var ee=!0})}$("#pdf-invoice").css({width:"auto",height:"auto"})})});let v=()=>{P?$(".p-colour-overlay").css("opacity","1"):$(".p-colour-overlay").css("opacity","0")},X=()=>{$e?$(".minimat-overlay").css("opacity","1"):$(".minimat-overlay").css("opacity","0")}});$(document).ready(function(){$(".samples-detail.carpet").remove();var K,I,R,L,B,v,X,f=!0,c=[],r="Only 5 samples per order allowed!";i();function i(){I=$(".samples-detail-wrapper .samples-detail").length,$(".samples-tab .samples-tab-count").text(I),X=5-I,$(".samples-text.count .count-val").text(X),I>0?($(".remove-notice").addClass("hide"),$(".samples-tab").css("display","flex"),$(".samples-cta-wrapper").removeClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","auto")):(c=[],$(".remove-notice").removeClass("hide"),$(".samples-tab").css("display","none"),$(".samples-cta-wrapper").addClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","none"))}function n(){f==!0&&($(".samples-detail.trim").appendTo($(".samples-detail-wrapper")),$(".samples-detail.trim .add-trim-samples").css("display","none"),$(".samples-detail.trim").find(".carpet-type").text("Edging Pack"),f=!1),i(),I<5?jQuery.inArray(sampleID,c)>=0?alert(R+" "+L+" has already been added."):($(".samples-detail-wrapper").prepend(v),c.push(sampleID)):alert(r),i()}$("#sampleButton").click(function(){R=$(":input[data-feel]:checked").val(),R=="Pattern"&&(thePattern=$(":input[data-pattern]:checked").val(),R=R+" / "+thePattern),L=$(":input[data-colour]:checked").val(),B=$(":input[data-colour]:checked").siblings().children().attr("src"),v="<div class='samples-detail carpet'><div class='samples-image-wrapper'><img src='"+B+"' class='samples-image' alt=''></div><div class='samples-name-wrapper'><div class='samples-name'><div class='carpet-type'>"+R+"</div><div class='carpet-colour'>"+L+"</div></div><div class='remove-samples'><div class='remove-icon'><div class='icon-bar'></div></div></div></div></div>",theFeelID=R.replace(/ /g,"").toLowerCase(),theColorID=L.replace(/ /g,"").toLowerCase(),sampleID=theFeelID+"-"+theColorID,n(),i(),$(".samples-tab").click(),$(".samples-tab").css("display","flex")}),$(".samples-detail.trim").on("click",".remove-samples",function(){$(this).css("display","none"),$(this).parent(".samples-detail.trim").find(".add-trim-samples").css("display","flex"),$(this).parent(".samples-detail.trim").prependTo($(".trim-garage")),$(this).parent(".samples-detail.trim").find(".carpet-type").text("Add Edging Pack"),i()}),$(".samples-detail.trim").on("click",".add-trim-samples",function(){i(),I<5?($(this).css("display","none"),$(this).parent(".samples-detail.trim").find(".remove-samples").css("display","flex"),$(this).parent(".samples-detail.trim").appendTo($(".samples-detail-wrapper")),$(this).parent(".samples-detail.trim").find(".carpet-type").text("Edging Pack"),i()):alert(r)}),$(".samples-detail-wrapper").on("click",".samples-detail.carpet .samples-name-wrapper .remove-samples",function(){removeFeel=$(this).parents(".samples-name-wrapper").find(".carpet-type").text(),removeColor=$(this).parents(".samples-name-wrapper").find(".carpet-colour").text(),removeFeelID=removeFeel.replace(/ /g,"").toLowerCase(),removeColorID=removeColor.replace(/ /g,"").toLowerCase(),removeID=removeFeelID+"-"+removeColorID,c=jQuery.grep(c,function(U){return U!=removeID}),$(this).parents(".samples-detail-wrapper .samples-detail.carpet").fadeOut(200,function(){$(this).remove(),i()}),i()});let g=ShopifyBuy.buildClient({domain:"yudu2020.myshopify.com",storefrontAccessToken:"4a0e78fe19caee70a369f98925b4a317"});$(document).on("click","#checkoutButton",function(U){let h=$(this);h.text("Please wait..."),g.checkout.create().then(async y=>{let O="https://yudu-server.herokuapp.com/yudu-sample-rug-api",A=document.querySelectorAll(".samples-detail-wrapper .samples-detail"),b="150";if(A.length>0){let w="";A.forEach(T=>{let F=T.children[1].children[0].children[0].innerHTML,e=T.children[1].children[0].children[1].innerHTML;w.length<1?w=F+" / "+e:w+=" / "+F+" / "+e});let D={method:"POST",body:JSON.stringify({variantString:w,price:b}),headers:{"Content-Type":"Application/JSON"}};try{let F=[{variantId:(await fetch(O,D).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).id,quantity:1}];g.checkout.addLineItems(y.id,F).then(e=>{window.open(e.webUrl),ve()}).catch(e=>{h.text("Order for R150"),alert("There was an error processing your order. Please try again.")})}catch{h.text("Order for R150"),alert("There was an error processing your order. Please try again.")}}else h.text("Order for R150"),alert("Please select at least one sample before checking out.")}).catch(y=>{h.text("Order for R150"),alert("There was an error processing your order. Please try again.")})})});function ve(){setTimeout(function(){$(".samples-detail.carpet").remove(),$(".field-label").css("opacity","1"),$("#checkoutButton").text("Order for R150"),$(".remove-notice").removeClass("hide"),$(".samples-cart .samples-close").click(),$(".samples-tab").css("display","none"),$(".samples-cta-wrapper").addClass("disable"),$(".samples-cta-wrapper .button").css("pointer-events","none"),sampleArray=[]},3e3)}})();
